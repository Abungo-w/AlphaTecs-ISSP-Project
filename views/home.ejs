<!-- Hero Section -->
<section class="hero-section">
    <h1 class="welcome-message">Welcome <%- user.name %></h1>
</section>

<!-- Admin Actions -->
<% if (user && user.isAdmin) { %>
    <div class="admin-actions">
        <a href="/modules" class="btn-admin">View All Modules</a>
    </div>
<% } %>

<!-- All Learning Courses Section -->
<section class="all-modules">
    <div class="module-header">
        <h2>All Learning Courses</h2>
        <p>Browse through our complete collection of learning courses</p>
    </div>
    
    <div class="module-grid">
        <% if (courses && courses.length > 0) { %>
            <% courses.forEach(course => { %>
                <div class="module-card">
                    <div class="module-content">
                        <h3><%= course.title %></h3>
                        <p><%= course.description %></p>
                        <div class="module-meta">
                            <span><i class="fas fa-signal"></i> <%= course.difficulty %></span>
                            <span><i class="far fa-clock"></i> <%= course.duration %> mins</span>
                        </div>
                        <button class="start-btn" onclick="startCourse('<%= course.id %>')">Start Learning</button>
                    </div>
                </div>
            <% }) %>
        <% } else { %>
            <p class="no-modules">No courses available at the moment.</p>
        <% } %>
    </div>
</section>

<!-- Featured Learning Courses Section -->
<section class="featured-modules">
    <div class="module-header">
        <h2>Featured Learning Courses</h2>
        <p>Hand-picked courses to boost your cybersecurity knowledge</p>
    </div>
    
    <div class="module-grid">
        <% if (courses && courses.length > 0) { %>
            <% courses.slice(0, 3).forEach(course => { %>
                <div class="module-card">
                    <div class="module-content">
                        <h3><%= course.title %></h3>
                        <p><%= course.description %></p>
                        <div class="module-meta">
                            <span><i class="fas fa-signal"></i> <%= course.difficulty %></span>
                            <span><i class="far fa-clock"></i> <%= course.duration %> mins</span>
                        </div>
                        <button class="start-btn" onclick="startCourse('<%= course.id %>')">Start Learning</button>
                    </div>
                </div>
            <% }) %>
        <% } else { %>
            <p class="no-modules">No courses available at the moment.</p>
        <% } %>
    </div>
</section>

<script>
    function startCourse(courseId) {
        window.location.href = `/courses/${courseId}`;
    }
</script>